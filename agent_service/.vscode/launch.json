{
    "version": "0.2.0",
    "configurations": [

        {
            "name": "Python: agents/plan_agent.py",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--model-path", "/datanfs/ybj/llm/models/llava-v1.6-vicuna-7b",
                "--image-file", "/datanfs/ybj/llm/LLAVA/images/llava_logo.png",
                "--load-4bit"
            ],
            "console": "integratedTerminal"
        },

        // {
        //     "name": "Debug pretrain.sh",
        //     "type": "debugpy",
        //     "request": "launch",
        //     "program": "${workspaceFolder}/llava/train/train_mem.py",
        //     "args": [
        //         "--deepspeed", "./scripts/zero3.json",
        //         "--model_name_or_path", "/root/autodl-tmp/models/llava-v1.6-vicuna-7b",
        //         "--version", "plain",
        //         "--data_path", "/root/autodl-tmp/datasets/LLaVA-Pretrain/llava_pretrain_dataset.json",
        //         "--image_folder", "/root/autodl-tmp/datasets/LLaVA-Pretrain",
        //         "--vision_tower", "/root/autodl-tmp/models/clip-vit-large-patch14",
        //         "--tune_mm_mlp_adapter", "True",
        //         "--mm_vision_select_layer", "-2",
        //         "--mm_use_im_start_end", "False",
        //         "--mm_use_im_patch_token", "False",
        //         "--bf16", "True",
        //         "--output_dir", "/root/autodl-tmp/outputs/llava-v1.6-vicuna-7b",
        //         "--num_train_epochs", "1",
        //         "--per_device_train_batch_size", "16",
        //         "--per_device_eval_batch_size", "4",
        //         "--gradient_accumulation_steps", "1",
        //         "--evaluation_strategy", "no",
        //         "--save_strategy", "steps",
        //         "--save_steps", "24000",
        //         "--save_total_limit", "1",
        //         "--learning_rate", "2e-3",
        //         "--weight_decay", "0.",
        //         "--warmup_ratio", "0.03",
        //         "--lr_scheduler_type", "cosine",
        //         "--logging_steps", "1",
        //         "--tf32", "True",
        //         "--model_max_length", "1024",
        //         "--gradient_checkpointing", "True",
        //         "--dataloader_num_workers", "4",
        //         "--lazy_preprocess", "True",
        //         "--report_to", "wandb"
        //     ],
        //     "console": "integratedTerminal",
        //     "env": {
        //         "PATH": "/root/miniconda3/envs/llava/bin:${env:PATH}"
        //     },
        //     "justMyCode": true, // 确保调试器进入到第三方库
        // },

        // {
        //     "name": "Debug finetune_lora.sh",
        //     "type": "bashdb",
        //     "request": "launch",
        //     "program": "${workspaceFolder}/finetune_lora.sh",
        //     "args": [],
        //     "cwd": "${workspaceFolder}",
        //     "pathBash": "/bin/bash",
        //     "trace": true,
        //     "showDebugOutput": true
        // }
        
    ]
}